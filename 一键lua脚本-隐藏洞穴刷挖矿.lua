check=1

local common = dofile(path_scripts.."S-M-auto-script\\lib\\common.lua")

common.simpleStart({
    mapName = "隐藏的洞穴",
    mapCount = 3,
    planeId = 255,
    overtime = 30, --超时时间，/分钟
    -- 地图名称列表，需和mapIds一一对应
    mapIds = {33304, 33200, 33201 ,33202, 33203, 33204, 33205, 33206},
    -- 脚本名称列表，需和mapIds一一对应
    -- 支持16进制hex编码脚本
    -- 由于正则不通用，因此判断是否用hex的地方是字符串长度大于30
    scripts = {
       -- 蘑菇森林5
       "BDF8C8EBB4ABCBCDC3C52CD7F326D3D2CAB12C3333392E33362C313335392E30382CB2BBB1E42CD6B4D0D0C7B0B5C8B4FDA3A8BAC1C3EBA3A92C313030300D0AD6C7C4DCD7AAC9ED2CD7F326D3D2CAB12C313039392C313335392E30382CD7F3C5DC2CC3BBD3D0B8BDBCD3B2CECAFD2C31303030",
       -- 隐藏洞穴1
       "BDF8C8EBB4ABCBCDC3C52CD7F326D3D2CAB12C313135342E37342C313239352CD3D2C5DC2CC3BBD3D0B8BDBCD3B2CECAFD2C31303030",
       -- 隐藏洞穴2
       "CEBBD6C3B6A8CEBB2CD3D2C5DCCAB12C3734372E3039312C3331392E34342CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD3D2CCF828D6FAC5DC292CD3D2C5DCCAB12C3734372E3039312C3331392E34342CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0ACEBBD6C3B6A8CEBB2CD7F3C5DCCAB12C3732392E3338322C3731392E35382CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD7F3CCF828D6FAC5DC292CD7F3C5DCCAB12C3732392E3338322C3731392E35382CD3D2C5DC2CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD7F3CCF828D6FAC5DC292CD7F3C5DCCAB12C313036382E37352C313338352E372CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0ACEBBD6C3B6A8CEBB2CD7F3C5DCCAB12C313036382E37352C313338352E372CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD6C7C4DCD7AAC9ED2CD7F3C5DCCAB12C3630382E3436322C313636332E35382CD3D2C5DC2CC3BBD3D0B8BDBCD3B2CECAFD2C0D0ACEBBD6C3B6A8CEBB2CD7F3C5DCCAB12C313633392E36382C323436332E35342CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD7F3CCF828D6FAC5DC292CD7F3C5DCCAB12C313633392E36382C323436332E35342CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD7F3CCF82CD7F3C5DCCAB12C313135312E34352C323935392E39372CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD7F3CCF82CD7F3C5DCCAB12C313131372E312C323935392E39372CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD7F3CCF82CD7F3C5DCCAB12C313038322E37352C323935392E39372CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD7F3CCF82CD7F3C5DCCAB12C313139322E36372C323935392E39372CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD6C7C4DCD7AAC9ED2CD7F3C5DCCAB12C313230322E34352C353037312E32342CD3D2C5DC2CC3BBD3D0B8BDBCD3B2CECAFD2C0D0ACEBBD6C3B6A8CEBB2CD7F3C5DCCAB12C313631362E37362C353037312E37392CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0ACFC2C5C0CCDDD7D32CD7F3C5DCCAB12C313631362E37362C353037312E37392CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD6C7C4DCD7AAC9ED2CD7F3C5DCCAB12C3731342E3233332C353532302E37332CD3D2C5DC2CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD6C7C4DCD7AAC9ED2CD7F3C5DCCAB12C3431362E3035392C363436332E39362CD3D2C5DC2CC3BBD3D0B8BDBCD3B2CECAFD2C0D0ACEBBD6C3B6A8CEBB2CD3D2C5DCCAB12C3336352E30352C363230372E362CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD3D2CCF828D6FAC5DC292CD3D2C5DCCAB12C3336352E30352C363230372E362CD7F3C5DC2CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD7F3CCF82CD7F3C5DCCAB12C313231312E34372C373234372E39372CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD7F3CCF82CD7F3C5DCCAB12C313831312E34332C373737352E39332CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD6C7C4DCD7AAC9ED2CD7F3C5DCCAB12C313431392E36322C373737352E37332CD3D2C5DC2CC3BBD3D0B8BDBCD3B2CECAFD2C0D0ACEBBD6C3B6A8CEBB2CD7F3C5DCCAB12C313739382E34392C393239352E36332CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0ABDF8C8EBB4ABCBCDC3C52CD7F3C5DCCAB12C313739382E34392C393239352E36332CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C",
       -- 隐藏洞穴3
       "D3D2CCF82CD7F326D3D2CAB12C3434372E36352C313239352E38342CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0ACEBBD6C3B6A8CEBB2CD3D2C5DCCAB12C323031392E37372C313136372E31362CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD3D2CCF828D6FAC5DC292CD3D2C5DCCAB12C323031392E37372C313136372E31362CD7F3C5DC2CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD3D2CCF82CD3D2C5DCCAB12C333634372E362C313239352E38342CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD3D2CCF82CD3D2C5DCCAB12C343534332E35362C313033392E32342CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD3D2CCF82CD3D2C5DCCAB12C343739392E33362C3738332E38382CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD3D2CCF82CD7F3C5DCCAB12C373030342E38392C313239352E38382CD7F3C5DC2CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD6C7C4DCD7AAC9ED2CD7F3C5DCCAB12C373430322E33342C313033392E35322CD3D2C5DC2CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD7F3CCF8A3A8B6E0B6CECCF8A3A92CD7F3C5DCCAB12C383634302E372C313239352CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0ACEBBD6C3B6A8CEBB2CD3D2C5DCCAB12C393431372E32352C313239352E39362CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0ABDF8C8EBB4ABCBCDC3C52CD3D2C5DCCAB12C393431372E32352C313239352E39362CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD7F3CCF8A3A8B6E0B6CECCF8A3A92CD7F3C5DCCAB12C363030372E36372C313033392E32362CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD7F3CCF8A3A8B6E0B6CECCF8A3A92CD7F3C5DCCAB12C353935322E33342C313033392E32362CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD7F3CCF8A3A8B6E0B6CECCF8A3A92CD7F3C5DCCAB12C363333372C313239352E32362CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD7F3CCF8A3A8B6E0B6CECCF8A3A92CD7F3C5DCCAB12C353536382E38392C3738332E3534312CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C",
       -- 隐藏洞穴4
       "BDF8C8EBB4ABCBCDC3C52CD3D2C5DCCAB12C3638312E322C313130332E30382CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0ABDF8C8EBB4ABCBCDC3C52CD3D2C5DCCAB12C3638312E322C313130332E30382CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C",
       -- 隐藏洞穴5
       "BDF8C8EBB4ABCBCDC3C52CD3D2C5DCCAB12C3637372E39332C313138332E30382CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C0D0ACEBBD6C3B6A8CEBB2CD3D2C5DCCAB12C3637372E39332C313138332E30382CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C",
       -- 隐藏洞穴6
       "BDF8C8EBB4ABCBCDC3C52CD7F326D3D2CAB12C3132312E33342C313130332E30382CB2BBB1E42CC3BBD3D0B8BDBCD3B2CECAFD2C",
       -- 隐藏洞穴7
       "D6BBD6B4D0D0B2CECAFD2CD7F326D3D2CAB12C39362E30322C313239352E31392CB2BBB1E42CCAB9D3C3B7C9BBFA2C3235350D0AC9CFCCF82CD3D2C5DCCAB12C383735362E34332C313239362CD7F3C5DC2CCAB9D3C3BCBCC4DC2C393837393939390D0AC9CFCCF82CD3D2C5DCCAB12C383234302E372C313136372E37362CD7F3C5DC2CCAB9D3C3BCBCC4DC2C393837393939390D0AD7F3CCF82CD7F3C5DCCAB12C363932392E36322C313239352E33382CD7F3C5DC2CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD7F3CCF82CD7F326D3D2CAB12C363038362E32382C313033392E31322CD7F3C5DC2CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD7F3CCF82CD7F326D3D2CAB12C353731362E36392C3738332E322CD7F3C5DC2CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD7F3CCF828D6FAC5DC292CD7F326D3D2CAB12C343035372E31362C3630372E3335322CD3D2C5DC2CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AD7F3CCF828D6FAC5DC292CD7F326D3D2CAB12C333736372E35312C313033392E36372CD3D2C5DC2CC3BBD3D0B8BDBCD3B2CECAFD2C0D0AC9CFCCF82CD3D2C5DCCAB12C323233372E31342C313239352E32322CD7F3C5DC2CCAB9D3C3BCBCC4DC2C393837393939390D0AC9CFCCF82CD3D2C5DCCAB12C313738332E332C313136372E30322CD7F3C5DC2CCAB9D3C3BCBCC4DC2C39383739393939",
    },
    -- 任务列表
    -- 任务会在跳转到对应地图时执行，因此如mapId中未配置或者初始飞机不在任务地点则无法领取任务
    -- 不同npc或不同地图的任务请配置多个task
    tasks = {},
    onScriptRound = function (config) -- 副本每次切换地图回调
        if (getmapid() == 33201) then
            local isBacking = false -- 是否正在返回
			while(true)
            do 
                sleep(150)
                if (gety() >= 9100 and getx() >= 1800 ) then
                    if door_if(1806, 9295) == 1 then -- 人在最下面且门已开
                        speak('1楼门已开')
                        break
                    elseif (not isBacking) then
                        bot_stop()--停止挂机--
                        print(1)
                        isBacking = true
                        speak('开始返回顶部')
                        sleep(100)
                        
                        gotocoordinate(1, 413, 9295) --走至传送门
                        for i=1,50 do
                            if (gety() > 100) then
                                jmp(1)
						        sleep(800)
                            end
                        end
                        bot_start()
                        isBacking = false
                    end
                end
			end
        end
    end
})