check=1

local common = dofile(path_scripts.."S-M-auto-script\\lib\\common.lua")

common.simpleStart({
    mapName = "秘密实验室",
    mapCount = 3,
    planeId = 772,
    -- 地图名称列表，需和mapIds一一对应
    mapIds = {11803,66902,66900,66901,66909,66903,66904,66906,66907,66908},
    overtime = 20, --超时时间，/分钟
    endMapIds = {66908}, -- 结束一轮的地图id 默认为最后一张图，设置则以此值为准，没有可以不设置
    initSettings = {  -- 脚本初始化时的配置参数 可以不设置
        tobot_fastladder = 0, -- 取消快速爬梯，防止大桥下楼梯不稳定
    },

    -- 脚本名称列表，需和mapIds一一对应
    -- 支持16进制hex编码脚本
    -- 由于正则不通用，因此判断是否用hex的地方是字符串长度大于30
    scripts = {
       -- 副本进门
       "BDF8C8EBB4ABCBCDC3C52CD7F326D3D2CAB12C333132302C3836332CD3D2C5DC2C0D0ABDF8C8EBB4ABCBCDC3C52CD7F326D3D2CAB12C333134302C3836332CD3D2C5DC2C0D0ABDF8C8EBB4ABCBCDC3C52CD7F326D3D2CAB12C333136302C3836332CD3D2C5DC2C0D0AC9CFCCF8A3A8B6E0B6CECCF8A3A92CD7F326D3D2CAB12C333136372C313433392CB2BBB1E42C",
       -- 秘密实验室入口	1
       "BDF8C8EBB4ABCBCDC3C52CD7F326D3D2CAB12C313037302C313433392CD7F3C5DC2C0D0ABDF8C8EBB4ABCBCDC3C52CD7F326D3D2CAB12C313039302C313433392CD7F3C5DC2C0D0ABDF8C8EBB4ABCBCDC3C52CD7F326D3D2CAB12C313131302C313433392CD7F3C5DC2C",
       -- 对话1	2
       "D6BBD6B4D0D0B2CECAFD2CD7F326D3D2CAB12C3230302C3735312CB2BBB1E42CD6B4D0D0CAF3B1EABDC5B1BE2CB0B4BCFC2E7478740D0AD6BBD6B4D0D0B2CECAFD2CD7F326D3D2CAB12C3430302C3735312CB2BBB1E42CD6B4D0D0CAF3B1EABDC5B1BE2CB0B4BCFC2E7478740D0AD6BBD6B4D0D0B2CECAFD2CD7F326D3D2CAB12C3630302C3735312CB2BBB1E42CD6B4D0D0CAF3B1EABDC5B1BE2CB0B4BCFC2E747874",
	   -- 陷阱	3
       "",
       -- 秘密实验室	4
       "BDF8C8EBB4ABCBCDC3C52CD7F326D3D2CAB12C313230302C3735312CD7F3C5DC2C0D0ABDF8C8EBB4ABCBCDC3C52CD7F326D3D2CAB12C313232302C3735312CD7F3C5DC2C0D0ABDF8C8EBB4ABCBCDC3C52CD7F326D3D2CAB12C313234302C3735312CD7F3C5DC2C",
       -- 对话2	5
       "D6BBD6B4D0D0B2CECAFD2CD7F326D3D2CAB12C3230302C313433392CB2BBB1E42CD6B4D0D0CAF3B1EABDC5B1BE2CB0B4BCFC2E7478740D0AD6BBD6B4D0D0B2CECAFD2CD7F326D3D2CAB12C3430302C313433392CB2BBB1E42CD6B4D0D0CAF3B1EABDC5B1BE2CB0B4BCFC2E7478740D0AD6BBD6B4D0D0B2CECAFD2CD7F326D3D2CAB12C3630302C313433392CB2BBB1E42CD6B4D0D0CAF3B1EABDC5B1BE2CB0B4BCFC2E747874",
       -- 打第一个boss	6
       "",
       -- 对话3	7
       "D6BBD6B4D0D0B2CECAFD2CD7F326D3D2CAB12C3230302C313433392CB2BBB1E42CD6B4D0D0CAF3B1EABDC5B1BE2CB0B4BCFC2E7478740D0AD6BBD6B4D0D0B2CECAFD2CD7F326D3D2CAB12C3430302C313433392CB2BBB1E42CD6B4D0D0CAF3B1EABDC5B1BE2CB0B4BCFC2E7478740D0AD6BBD6B4D0D0B2CECAFD2CD7F326D3D2CAB12C3630302C313433392CB2BBB1E42CD6B4D0D0CAF3B1EABDC5B1BE2CB0B4BCFC2E747874",
       -- 打第二个boss	8
       "",
       -- 对话+开箱子	9
       "BDF8C8EBB4ABCBCDC3C52CD7F326D3D2CAB12C313134302C313433392CD3D2C5DC2C0D0ABDF8C8EBB4ABCBCDC3C52CD7F326D3D2CAB12C313136302C313433392CD3D2C5DC2C0D0ABDF8C8EBB4ABCBCDC3C52CD7F326D3D2CAB12C313138302C313433392CD3D2C5DC2C",
	   -- 10
	   "",
	   
	},
	onScriptRound = function () -- 副本每次切换地图回调
		if (getmapid() == 66900) then
            if open_npc(15041301) then
				bot_stop()
				close_npc(15041301)
				close_npc(15041301)
				close_npc(15041301)
			end
        end
		if (getmapid() == 66901) then
            gotocoordinate(1,32,751)
        end
		if (getmapid() == 66903) then
            if open_npc(15041401) then
				bot_stop()
				close_npc(15041401)
				close_npc(15041401)
				close_npc(15041401)
			end
        end
		if (getmapid() == 66906) then
            if open_npc(15041501) then
				bot_stop()
				close_npc(15041501)
				close_npc(15041501)
				close_npc(15041501)
			end
        end
		if (getmapid() == 66908) then
            if open_npc(15041601) then
				bot_stop()
				close_npc(15041601)
				close_npc(15041601)
				close_npc(15041601)
			end
        end
    end
})